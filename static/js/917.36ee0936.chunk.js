(()=>{var e={143:()=>{},2009:()=>{},2499:()=>{},2603:()=>{},3052:()=>{},4601:(e,o,r)=>{"use strict";var t=r(1560);r.p=self.location.origin+"/document_topic_map/";let s=null;t._K2.allowRemoteModels=!0,t._K2.allowLocalModels=!1,t._K2.useBrowserCache=!0,t._K2.remoteHost="https://huggingface.co",t._K2.remotePathTemplate="{model}/resolve/{revision}/",t._K2.backends.onnx.wasm.numThreads=1,t._K2.backends.onnx.wasm.proxy=!1,t._K2.backends.onnx.wasm.simd=!1,t._K2.backends.onnx.wasm.wasmPaths="https://cdn.jsdelivr.net/npm/onnxruntime-web@1.16.3/dist/",t._K2.backends.onnx.wasm.wasmFile="ort-wasm.wasm",t._K2.backends.onnx.wasm.workerFile="ort-wasm-worker.min.js",self.onmessage=async e=>{const{type:o,data:r}=e.data;try{if("init"===o)console.log("[Worker] Initializing Transformers.js model..."),console.log("[Worker] Using default HuggingFace CDN settings"),s=await(0,t.TkF)("feature-extraction","Xenova/all-MiniLM-L6-v2",{quantized:!0,progress_callback:e=>{self.postMessage({type:"progress",status:e.status,file:e.file,progress:e.progress})}}),console.log("[Worker] Model loaded successfully"),self.postMessage({type:"ready",success:!0});else{if("embed"!==o)throw new Error("Unknown message type: ".concat(o));{const{documents:e,batchSize:o=8}=r;if(!s)throw new Error("Model not initialized. Call init first.");console.log("[Worker] Generating embeddings for ".concat(e.length," documents..."));const t=[];for(let r=0;r<e.length;r+=o){const n=e.slice(r,Math.min(r+o,e.length)),a=await s(n,{pooling:"mean",normalize:!0});for(let e=0;e<n.length;e++){const o=Array.from(a[e].data);t.push(o)}const l=Math.min(r+o,e.length);self.postMessage({type:"embed_progress",progress:l/e.length,processed:l,total:e.length})}console.log("[Worker] Generated ".concat(t.length," embeddings (").concat(t[0].length," dimensions)")),self.postMessage({type:"embed_complete",success:!0,embeddings:t,dimensions:t[0].length})}}}catch(n){console.error("[Worker] Error:",n),console.error("[Worker] Error message:",n.message),console.error("[Worker] Error stack:",n.stack),n.message.includes("JSON")&&(console.error("[Worker] This appears to be a model file fetch issue."),console.error("[Worker] The library is likely receiving HTML (404 page) instead of JSON."),console.error("[Worker] Check that the model exists at: https://huggingface.co/Xenova/all-MiniLM-L6-v2")),self.postMessage({type:"error",success:!1,error:n.message,stack:n.stack})}}},6837:()=>{},7806:()=>{}},o={};function r(t){var s=o[t];if(void 0!==s)return s.exports;var n=o[t]={exports:{}};return e[t](n,n.exports,r),n.exports}r.m=e,r.x=()=>{var e=r.O(void 0,[129],()=>r(4601));return e=r.O(e)},(()=>{var e=[];r.O=(o,t,s,n)=>{if(!t){var a=1/0;for(p=0;p<e.length;p++){for(var[t,s,n]=e[p],l=!0,c=0;c<t.length;c++)(!1&n||a>=n)&&Object.keys(r.O).every(e=>r.O[e](t[c]))?t.splice(c--,1):(l=!1,n<a&&(a=n));if(l){e.splice(p--,1);var i=s();void 0!==i&&(o=i)}}return o}n=n||0;for(var p=e.length;p>0&&e[p-1][2]>n;p--)e[p]=e[p-1];e[p]=[t,s,n]}})(),(()=>{var e,o=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(t,s){if(1&s&&(t=this(t)),8&s)return t;if("object"===typeof t&&t){if(4&s&&t.__esModule)return t;if(16&s&&"function"===typeof t.then)return t}var n=Object.create(null);r.r(n);var a={};e=e||[null,o({}),o([]),o(o)];for(var l=2&s&&t;("object"==typeof l||"function"==typeof l)&&!~e.indexOf(l);l=o(l))Object.getOwnPropertyNames(l).forEach(e=>a[e]=()=>t[e]);return a.default=()=>t,r.d(n,a),n}})(),r.d=(e,o)=>{for(var t in o)r.o(o,t)&&!r.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:o[t]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce((o,t)=>(r.f[t](e,o),o),[])),r.u=e=>"static/js/"+e+".fc574c30.chunk.js",r.miniCssF=e=>{},r.o=(e,o)=>Object.prototype.hasOwnProperty.call(e,o),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/document_topic_map/",(()=>{var e={917:1};r.f.i=(o,t)=>{e[o]||importScripts(r.p+r.u(o))};var o=self.webpackChunkconference_map_react=self.webpackChunkconference_map_react||[],t=o.push.bind(o);o.push=o=>{var[s,n,a]=o;for(var l in n)r.o(n,l)&&(r.m[l]=n[l]);for(a&&a(r);s.length;)e[s.pop()]=1;t(o)}})(),(()=>{var e=r.x;r.x=()=>r.e(129).then(e)})();r.x()})();
//# sourceMappingURL=917.36ee0936.chunk.js.map